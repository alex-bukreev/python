# Списки и цикл ```for```

## Списки

Список (list) -- это объединение нескольких переменных под одним именем. Чтобы завести список, надо перечислить значения его элементов в квадратных скобках:

    a = [1,2,'три',False,5]

Чтобы обратиться к элементу списка, надо после имени списка указать в квадратных скобках номер (индекс) элемента. Например так мы узнаем значение элемента номер 2 списка ```a```, а затем весь список:

    print(a[2])
    print(a)

Нумерация элементов начинается с нуля. То есть ```a[0]``` -- это первый элементы списка, ```a[1]``` -- второй, ```a[2]``` -- третий, и так далее. Кроме того в питоне можно легко обратиться к последнему элементу списка по индексу -1, а к предпоследнему по индексу -2 и так далее:

    print(a[-1])
    print(a[-2])

Списки можно соединять с помощью плюса:

    b = a + ['шесть',True,'восемь']
    print(b)
    print(b[4])
    print(b[7])
    print(b[-1])

Строки -- это почти то же самое, что и списки. Их элементами являются символы:

    s = 'абвгд'
    print(s)
    print(s[2])
    print(s[-2])
    t = s + 'еёжз'
    print(t)
    print(t[8])


# Цикл ```for```

Цикл ```for``` позволяет произвести какие-то операции со всеми элементами некоторого списка. Например, выведем на экран их квадраты (квадратом называется произведение числа с самим собой):

    for x in [1,2,3,4,5]:
        print(x*x)

*For* в переводе на русский означает *для*. Поэтому текст программы можно перевести как

    для каждого элемента x из списка [1,2,3,4,5] сделай следующее:
        выведи на экран (x умножить на x)

Обратите внимание, как пишется цикл: два ключевых слова ```for``` и ```in```, в конце строки *двоеточие*, а потом тело цикла пишется с *отступом*. По отступу компьютер понимает, где заканчивается цикл.

В качестве списка может выступать и строка. Например в следующей программе цикл проходит по всем буквам слова *строка* и присоединяет их к изначально пустой строке ```st```, причем делает это слева. В результате получаетс строка, развернутая наоборот:

    st = ''
    for x in 'строка':
        st = x + st
    print(st)

**Задача.** Напишите программу разворачавающую строку, полученную от пользователем с помощью функции ```input```.

**Задача.** Напишите программу проверяющую, является ли введенная пользователем строка палиндромом (то есть чистается ли она одинаково и слева-направо и справа-налево).


# Функции ```ord``` и ```chr```
 
Это функции для работы с символами. Существует таблица символов Unicode, в которой собраны буквы почти всех языков и огромное число разных других символов. Каждый символ имеет в ней какой-то номер. Узнать его можно функцией ```ord```:

    print(ord('F'))
    print(ord('Ө'))
    print(ord('学'))

Наоборот получить символ по его номеру можно с помощью функции ```chr```:

    print(chr(23398))

Напишем программу, которая шифрует введеный пользователем текст, заменяя все буквы в нем на следующие за ними в таблице Unicode:

    s1 = input()
    s2 = ''
    for x in s1:
        s2 = s2 + chr(ord(x)+1)
    print(s2)

**Задача.** Напишите программу, которая расшифровывает текст, зашифрованный предыдущей программой.

**Задача.** Расшифруйте предложение ```Тцпмыст0$жя$хуфджмпмхѐ%$Рткйцй$уйфйщтимцѐ$идпѐьй2```.


## Функция ```range```

Эта функция создает список из первых натуральных чисел начиная с нуля. Количество чисел равно переданному функции аргументу. То есть, если передать аргумент ```n```, мы получим числа от ```0``` до ```n-1```.

    print('Квадраты целых чисел от 0 до 20:')
    for x in range(21):
        print(' квадрат числа',x,'равен',x*x)

    print('Первые 500 символов Unicode:')
    for i in range(500):
        print('Символ номер',i,'-',chr(i))

Посчитаем с помощью этой функции сумму чисел от 1 до 100:

    sum = 0
    for x in range(101):
        sum = sum + x
    print(sum)

Обратите внимание: аргумент функции ```range``` равен 101, чтобы последнее прибавляемое число было 100. Последняя строка написана без отступа, поэтому она выполняется всего один раз после того как цикл завершится. Первое прибавляемое число -- это ноль, это никак не влияет на результат.

Давайте посчитаем произведение целых чисел от 1 до 100. Но теперь первое число ноль обнулит нам весь результат. Чтобы его не было, можно вызвать функцию ```range``` с двумя аргументами, вот так ```range(a,b)``` -- это даст нам список всех целых чисел от a включительно до b не включительно:

    prod = 0
    for x in range(1,101):
        prod = prod * x
    print(prod)

Если добавить в ```range``` третий аргумент, то она вернет нам не все подряд числа, а с указанным шагом. Например, выведем на экран каждый сотый символ Unicode:

    for i in range(0,55200,100):
        print(i,chr(i))

**Задача.** Напишите программу, которая выдает произведение натуральных чисел от 1 до n, где число n вводит пользователь.

**Задача.** Найдите сумму квадратов целых чисел от 1 до 100.


## Флаги

Простые числа -- это числа, которые делятся только на себя и на единицу. Напишем программу, проверяющую, просто ли введеное число или нет. 

Для этого мы введем *флаг*, то есть переменную, которая изначально будет равна ```False``` (флаг опущен), и которой мы присвоим значение ```True``` (поднимем флаг) как только найдем какой-нибудь делитель введенного числа отличный от него самого и единицы. Искать делители мы будем от числа 2 до n-1, где n -- введенное число. Если число простое, то мы не найдем делителей, а значит флаг так и останется опущенным.

    n = int(input('Введите число большее 1: '))
    flag = False
    for i in range(2,n):
        if n%i==0:
            flag = True
    if flag:
        print('Это число составное')
    else:
        print('Это число простое')


## Функция ```len```

Функция ```len``` (от английского length -- длина) отвечает на вопрос, какова длина списка или строки. Она часто используется вместе с функцией ```range```. Например, в следующей программе

    s = input('Введите строку: ')
    for i in range(len(s)):
        print('символ номер',i,'-',s[i])

если мы введем строку ```привет```, ```len(s)``` будет равно 6. Значит переменная ```i``` по очереди примет значения 0, 1, 2, 3, 4, 5. А именно таковы номера букв в строке ```привет```.

Давайте с помощью этой функции и флагов сделаем еще одну программу, проверяющую является ли строка палиндромом: 

    s = input('Введите строку: ')
    l = len(s)
    flag = True
    for i in range(l):
        if s[i]!=s[l-1-i]:
            flag = False
    if flag:
        print('Это палиндром')
    else:
        print('Это не палиндром')

В цикле мы проверяем логическое выражение ```s[i]!=s[l-1-i]```, то есть сравниваем i-ю букву строки с i-й с конца буквой. Например, если l=10, то сначала (i=0) мы сравним s[0] и s[9], то есть первую и последнюю букву. Потом (i=1) мы сравним s[1] и s[8], то есть вторую и предпоследнюю букву. И так далее.

Если хотя бы раз буквы не совпадут, мы опускаем флаг. После цикла, если флаг останется поднятым, слово является палиндромом.


## Вложенные циклы

Чтобы найти все простые числа от 2 до 100, нам потребуется цикл ```for``` по списку ```range(2,101)```, внутри которого нужно поместить цикл из предыдущей задачи:

    print('Простые числа до 100:')
    for n in range(2,101):
        flag = False
        for i in range(2,n):
            if n%i==0:
                flag = True
        if flag:
            pass
        else:
            print(n)

Команда ```pass``` означает "ничего не делай". Нам нужно сообщать только о простых числах.


## Случайные числа

Часто нам требуются случайные числа. Например, чтобы смоделировать бросок монеты или кубика. В питоне для этого есть специальные функции. Но они не считаются очень выжными, поэтому хранятся отдельно в библиотеке. Чтобы воспользоваться ими, надо попросить питон подлючить к нашей программе библиотеку ```random```. Вот такая строка должна быть в начале программы:

    import random

Теперь смоделируем бросок кубика с помощью функции ```random.randint(a,b)```. Она выдает нам случайное целое число от a до b включительно:

    n = random.randint(1,6)
    print('Выпало:',n)

Давайте поставим эксперимент по теории вероятностей. Пусть первый игрок бросает два кубика, а второй игрок один додекаэдр (у него 12 граней, значит максимум 12 очков). Кто будет чаще побеждать в такой игре?

    w1 = 0
    w2 = 0
    for i in range(100):
        a = random.randint(1,6)
        b = random.randint(1,6)
        c = random.randint(1,12)
        if a+b>c:
            print('победил первый:',a,'+',b,'>',c)
            w1 = w1 + 1
        elif a+b<c:
            print('победил второй:',a,'+',b,'<',c)
            w2 = w2 + 1
        else:
            print('ничья:',a,'+',b,'=',c)
    print('У первого',w1,'побед. У второго',w2,'побед.')
    if w1>w2:
        print('У первого побед больше.')
    elif w1<w2:
        print('У второго побед больше.')
    else:
        print('Побед поровну.')

Позапускайте программу несколько раз. Обычно чаще побеждает первый игрок, но иногда и второй. Увеличьте число повторений цикла. Программа работает не очень быстро. Много времени занимает вывод на экран. Поэтому отлючите строки с функцией ```print``` в цикле, добавив в начало строки символ ```#``` (это можно быстро сделать клавишами ```Ctrl+d```).


## Транспозиция

Бывает нужно поменять местами значения двух переменных. На первый взгляд, можно написать просто ```x=y``` и ```y=x```. Но посмотрим, что будет:

    x = 3
    y = 4
    x = y
    y = x
    print(x,y)

Число 3 пропало. Оно стерлось при выполнении строки ```x=y```. Как же быть? Можно использовать времнную буферную переменную:

    temp = x
    x = y
    y = temp

Но в питоне можно делать это в одну строку вот так:

    x,y = y,x


## Игра в анаграммы

Сделаем игру. Игроку надо будет разгадывать анаграммы, то есть восстанавливать правильный порядок букв в словах.

Сначала научимся путать порядок букв в слове. Для этого 10 раз случайно выберем в слове две буквы и поменяем их местами:

    import random
    s = input('Введите слово: ')
    s = list(s)
    l = len(s)
    for k in range(10):
        i = random.randint(0,l-1)
        j = random.randint(0,l-1)
        s[i],s[j] = s[j],s[i]
    s = ''.join(s)
    print('Его анаграмма:',s)






